<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Library · SimJulia.jl documentation</title><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script></head><body><nav class="toc"><h1>SimJulia.jl</h1><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="intro.html">Intro</a></li><li><a class="toctext" href="topics.html">Manual</a></li><li class="current"><a class="toctext" href="api.html">Library</a><ul class="internal"><li><a class="toctext" href="#Public-1">Public</a></li><li><a class="toctext" href="#Internals-1">Internals</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="api.html">Library</a></li></ul><a class="edit-page" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/docs/src/api.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="API-1" href="#API-1">API</a></h1><h2><a class="nav-anchor" id="Public-1" href="#Public-1">Public</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia" href="#SimJulia"><code>SimJulia</code></a> — <span class="docstring-category">Module</span>.</div><div><p><code>SimJulia</code></p><p>Main module for SimJulia.jl – a combined continuous time / discrete event process oriented simulation framework for Julia.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/SimJulia.jl#L3-L7">source</a><br/></section><h3><a class="nav-anchor" id="Base-1" href="#Base-1">Base</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.Event" href="#SimJulia.Event"><code>SimJulia.Event</code></a> — <span class="docstring-category">Type</span>.</div><div><p><code>Event</code></p><p>An event is a state machine with three states:</p><ul><li><p><code>idle</code></p></li><li><p><code>triggered</code></p></li><li><p><code>processing</code></p></li></ul><p>Once the processing has ended, the event returns to an <code>idle</code> state and can be scheduled again.</p><p>An event is initially not triggered. Events are scheduled for processing by the simulation after they are triggered.</p><p>An event has a list of callbacks and a value. A callback can be any function. Once an event gets processed, all callbacks will be invoked. Callbacks can do further processing with the value it has produced.</p><p>Failed events, i.e. events having as value an <code>Exception</code>, are never silently ignored and will raise this exception upon being processed.</p><p><strong>Fields:</strong></p><ul><li><p><code>callbacks :: Vector{Function}</code></p></li><li><p><code>state :: EVENT_STATE</code></p></li><li><p><code>value :: Any</code></p></li></ul><p><strong>Constructor:</strong></p><ul><li><p><code>Event()</code></p></li><li><p><code>Event(sim::Simulation, delay::Period; priority::Bool=false, value::Any=nothing)</code></p></li><li><p><code>Event(sim::Simulation, delay::Number=0; priority::Bool=false, value::Any=nothing)</code></p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L17-L45">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.Simulation" href="#SimJulia.Simulation"><code>SimJulia.Simulation</code></a> — <span class="docstring-category">Type</span>.</div><div><p><code>Simulation{T&lt;:TimeType}</code></p><p>Execution environment for a simulation. The passing of time is implemented by stepping from event to event.</p><p><strong>Fields</strong>:</p><ul><li><p><code>time :: T</code></p></li><li><p><code>heap :: PriorityQueue{Event, EventKey}</code></p></li><li><p><code>sid :: UInt</code></p></li></ul><p><strong>Constructor</strong>:</p><p><code>Simulation{T&lt;:TimeType}(initial_time::T)</code> <code>Simulation(initial_time::Number=0)</code></p><p>An initial_time for the simulation can be specified. By default, it starts at 0.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L190-L207">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Dates.now-Tuple{SimJulia.Simulation}" href="#Base.Dates.now-Tuple{SimJulia.Simulation}"><code>Base.Dates.now</code></a> — <span class="docstring-category">Method</span>.</div><div><p><code>now(sim::Simulation) :: TimeType</code></p><p>Returns the current simulation time.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L278-L282">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.run" href="#Base.run"><code>Base.run</code></a> — <span class="docstring-category">Function</span>.</div><div><ul><li><p><code>run(sim::Simulation, until::Event)</code></p></li><li><p><code>run(sim::Simulation, until::TimeType)</code></p></li><li><p><code>run(sim::Simulation, until::Period)</code></p></li><li><p><code>run(sim::Simulation, until::Number)</code></p></li><li><p><code>run(sim::Simulation)</code></p></li></ul><p>Executes <a href="api.html#SimJulia.step-Tuple{SimJulia.Simulation}"><code>step</code></a> until the given criterion <code>until</code> is met:</p><ul><li><p>if it is not specified, the method will return when there are no further events to be processed</p></li><li><p>if it is an <code>Event</code>, the method will continue stepping until this event has been triggered and will return its value</p></li><li><p>if it is a <code>TimeType</code>, the method will continue stepping until the simulation’s time reaches until</p></li><li><p>if it is a <code>Period</code>, the method will continue stepping until the simulation’s time has passed until periods</p></li><li><p>if it is a <code>Number</code>, the method will continue stepping until the simulation’s time has passed until elementary periods</p></li></ul><p>In the last two cases, the simulation can prematurely stop when there are no further events to be processed.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L231-L247">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.schedule-Tuple{SimJulia.Simulation,SimJulia.Event,Base.Dates.Period}" href="#Base.schedule-Tuple{SimJulia.Simulation,SimJulia.Event,Base.Dates.Period}"><code>Base.schedule</code></a> — <span class="docstring-category">Method</span>.</div><div><ul><li><p><code>schedule(sim::Simulation, ev::Event, delay::Period; priority::Bool=false, value::Any=nothing) :: Event</code></p></li><li><p><code>schedule(sim::Simulation, ev::Event, delay::Number=0; priority::Bool=false, value::Any=nothing) :: Event</code></p></li></ul><p>Schedules an event at time <code>sim.time + delay</code> with a <code>priority</code> and a <code>value</code>.</p><p>If the event is already scheduled or is being processed, an <a href="api.html#SimJulia.EventNotIdle"><code>EventNotIdle</code></a> exception is thrown.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L316-L323">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.append_callback-Tuple{SimJulia.Event,Function,Vararg{Any,N}}" href="#SimJulia.append_callback-Tuple{SimJulia.Event,Function,Vararg{Any,N}}"><code>SimJulia.append_callback</code></a> — <span class="docstring-category">Method</span>.</div><div><p><code>append_callback(ev::Event, cb::Function, args...; include_event::Bool=false, sticky::Bool=false)</code> :: Function</p><p>Adds a callback function, i.e. a function having as first argument an object of type <code>Simulation</code>, to the event. The second argument is the event if <code>include_event=true</code>. Optional arguments can be specified by <code>args...</code>. The <code>sticky</code> keyword argument allows to keep a callback function when reusing an event. The default behavior is to remove the callback functions at the end of the processing.</p><p>If the event is being processed an <a href="api.html#SimJulia.EventProcessing"><code>EventProcessing</code></a> exception is thrown.</p><p>Callback functions are called in order of adding to the event.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L431-L440">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.schedule!-Tuple{SimJulia.Simulation,SimJulia.Event,Base.Dates.Period}" href="#SimJulia.schedule!-Tuple{SimJulia.Simulation,SimJulia.Event,Base.Dates.Period}"><code>SimJulia.schedule!</code></a> — <span class="docstring-category">Method</span>.</div><div><ul><li><p><code>schedule!(sim::Simulation, ev::Event, delay::Period; priority::Bool=false, value::Any=nothing) :: Event</code></p></li><li><p><code>schedule!(sim::Simulation, ev::Event, delay::Number=0; priority::Bool=false, value::Any=nothing) :: Event</code></p></li></ul><p>Schedules an event at time <code>sim.time + delay</code> with a <code>priority</code> and a <code>value</code>.</p><p>If the event is already scheduled, the key is updated with the new <code>delay</code> and <code>priority</code>. The new <code>value</code> is also set.</p><p>If the event is being processed, an <a href="api.html#SimJulia.EventProcessing"><code>EventProcessing</code></a> exception is thrown.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L287-L296">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.state-Tuple{SimJulia.Event}" href="#SimJulia.state-Tuple{SimJulia.Event}"><code>SimJulia.state</code></a> — <span class="docstring-category">Method</span>.</div><div><p><code>state(ev::Event) :: EventState</code></p><p>Returns the state of the event.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L70-L74">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.value-Tuple{SimJulia.Event}" href="#SimJulia.value-Tuple{SimJulia.Event}"><code>SimJulia.value</code></a> — <span class="docstring-category">Method</span>.</div><div><p><code>value(ev::Event) :: Any</code></p><p>Returns the value of the event.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L61-L65">source</a><br/></section><h3><a class="nav-anchor" id="Processes-1" href="#Processes-1">Processes</a></h3><h3><a class="nav-anchor" id="Continuous-1" href="#Continuous-1">Continuous</a></h3><h3><a class="nav-anchor" id="Resources-1" href="#Resources-1">Resources</a></h3><h2><a class="nav-anchor" id="Internals-1" href="#Internals-1">Internals</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.EVENT_STATE" href="#SimJulia.EVENT_STATE"><code>SimJulia.EVENT_STATE</code></a> — <span class="docstring-category">Type</span>.</div><div><p><code>EVENT_STATE</code></p><p>Enum with values:</p><ul><li><p><code>idle=0</code></p></li><li><p><code>triggered=1</code></p></li><li><p><code>processing=2</code></p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L1-L9">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.EventKey" href="#SimJulia.EventKey"><code>SimJulia.EventKey</code></a> — <span class="docstring-category">Type</span>.</div><div><p><code>EventKey</code></p><p>Key for the event heap.</p><p><strong>Fields</strong>:</p><ul><li><p><code>time :: Float64</code></p></li><li><p><code>priority :: Bool</code></p></li><li><p><code>id :: UInt</code></p></li></ul><p><strong>Constructor</strong>:</p><p><code>EventKey(time :: Float64, priority :: Bool, id :: UInt</code>)</p><p>Only used internally.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L121-L137">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.EventNotIdle" href="#SimJulia.EventNotIdle"><code>SimJulia.EventNotIdle</code></a> — <span class="docstring-category">Type</span>.</div><div><p><code>EventNotIdle &lt;: Exception</code></p><p>Exception thrown when an event is scheduled (<a href="api.html#Base.schedule-Tuple{SimJulia.Simulation,SimJulia.Event,Base.Dates.Period}"><code>schedule</code></a>)  that has already been scheduled or is being processed.</p><p>Only used internally.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L79-L85">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.EventProcessing" href="#SimJulia.EventProcessing"><code>SimJulia.EventProcessing</code></a> — <span class="docstring-category">Type</span>.</div><div><p><code>EventProcessing &lt;: Exception</code></p><p>Exception thrown:</p><ul><li><p>when a callback is added to an event (<a href="api.html#SimJulia.append_callback-Tuple{SimJulia.Event,Function,Vararg{Any,N}}"><code>append_callback</code></a>) that is being processed or</p></li><li><p>when an event is scheduled (<a href="api.html#SimJulia.schedule!-Tuple{SimJulia.Simulation,SimJulia.Event,Base.Dates.Period}"><code>schedule!</code></a>) that is being processed.</p></li></ul><p>Only used internally.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L89-L98">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.StopSimulation" href="#SimJulia.StopSimulation"><code>SimJulia.StopSimulation</code></a> — <span class="docstring-category">Type</span>.</div><div><p><code>StopSimulation &lt;: Exception</code></p><p>Exception that stops the simulation. A return value can be set.</p><p><strong>Fields</strong>:</p><ul><li><p><code>value :: Any</code></p></li></ul><p><strong>Constructor</strong>:</p><p><code>StopSimulation(value::Any=nothing)</code></p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L101-L113">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.isless-Tuple{SimJulia.EventKey,SimJulia.EventKey}" href="#Base.isless-Tuple{SimJulia.EventKey,SimJulia.EventKey}"><code>Base.isless</code></a> — <span class="docstring-category">Method</span>.</div><div><p><code>isless(a::EventKey, b::EventKey) :: Bool</code></p><p>Compairs two <code>EventKey</code>. The criteria in order of importance are:</p><ul><li><p>time of processing</p></li><li><p>priority when time of processing is equal</p></li><li><p>scheduling id, i.e. the event that was first scheduled is first processed when time of processing and priority are identical</p></li></ul><p>Only used internally.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L144-L154">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SimJulia.step-Tuple{SimJulia.Simulation}" href="#SimJulia.step-Tuple{SimJulia.Simulation}"><code>SimJulia.step</code></a> — <span class="docstring-category">Method</span>.</div><div><p><code>step(sim::Simulation) :: Bool</code></p><p>Does a simulation step and processes the next event.</p><p>Only used internally.</p></div><a class="source-link" target="_blank" href="https://github.com/BenLauwens/SimJulia.jl/tree/a026c4de3bf3f9f80f2ec96e4680e367dcce2896/src/base.jl#L404-L410">source</a><br/></section><footer><hr/><a class="previous" href="topics.html"><span class="direction">Previous</span><span class="title">Manual</span></a></footer></article></body></html>
